# RCSB PDB ChatBot - Universal Environment Configuration
# Copy this file to .env and configure for your environment

# === Application Server Configuration ===
# Port where the application will run (accessible via browser)
APP_PORT=8501
# Host address (0.0.0.0 for external access, 127.0.0.1 for local only)  
APP_HOST=0.0.0.0

# === RAGFlow Integration - Required ===
# Get your API key from RAGFlow dashboard: Settings > API Keys
RAGFLOW_API_KEY=your-ragflow-api-key-here
# URL of your RAGFlow server (adjust IP/port as needed)
RAGFLOW_BASE_URL=http://127.0.0.1:9380
# Name of your RAGFlow assistant
RAGFLOW_ASSISTANT_NAME=RCSB ChatBot v2

# === OpenAI Integration - Required for Knowledge Base ===
# Get your API key from OpenAI dashboard: https://platform.openai.com/api-keys
OPENAI_API_KEY=your-openai-api-key-here

# === RAGFlow Chat Assistant Configuration ===
# Dataset name for knowledge base (should match initialize_dataset.py)
RAGFLOW_DATASET_NAME=rcsb_pdb_knowledge_base
# LLM model to use for chat assistant
RAGFLOW_MODEL_NAME=gpt-4-turbo
# Temperature for response creativity (0.0-1.0)
RAGFLOW_TEMPERATURE=0.1
# Top-p for nucleus sampling (0.0-1.0)
RAGFLOW_TOP_P=0.3
# Presence penalty to avoid repetition (-2.0 to 2.0)
RAGFLOW_PRESENCE_PENALTY=0.2
# Frequency penalty to reduce repeated phrases (-2.0 to 2.0)
RAGFLOW_FREQUENCY_PENALTY=0.7
# Similarity threshold for chunk retrieval (0.0-1.0)
RAGFLOW_SIMILARITY_THRESHOLD=0.2
# Weight of keyword similarity vs vector similarity (0.0-1.0)
RAGFLOW_KEYWORDS_WEIGHT=0.7
# Number of top chunks to send to LLM
RAGFLOW_TOP_N=8
# Number of chunks for initial retrieval
RAGFLOW_TOP_K=1024
# Opening greeting message
RAGFLOW_OPENER=Hi! I'm your RCSB PDB assistant. I can help you with protein structures, crystallography, and structural biology questions. What would you like to know?
# Show source quotes in responses (true/false)
RAGFLOW_SHOW_QUOTE=true

# === Custom System Prompt ===
# Override the default system prompt (optional - leave empty to use default)
# For multi-line prompts, use \n for line breaks
RAGFLOW_SYSTEM_PROMPT=

# === Data Storage Configuration ===
# Directory for storing user session data (relative or absolute path)
USER_DATA_DIR=./user_data

# === Application Behavior ===
# Enable debug mode for development
DEBUG_MODE=false
# Logging level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# === Universal Setup ===
# 1. Clone repo: git clone <repo-url>
# 2. Copy config: cp .env.example .env  
# 3. Edit this file: nano .env
# 4. Start app: docker-compose up -d
# 5. Access: http://localhost:8501 (or your configured APP_PORT)